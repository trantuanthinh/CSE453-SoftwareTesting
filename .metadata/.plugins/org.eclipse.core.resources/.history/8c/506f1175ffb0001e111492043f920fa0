import static org.junit.jupiter.api.Assertions.*;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.PrintStream;
import java.lang.reflect.Method;

import org.junit.jupiter.api.Test;

class FibonacciTest {

	@Test
	void testMainMethodExists() {
		try {
			Class<?> className = Class.forName("Fibonacci");
			Method mainMethod = className.getMethod("main", String[].class);
		}catch(ClassNotFoundException e) {
			assertTrue(false,"Class not found");
		}catch (NoSuchMethodException e) {
			assertTrue(false, "Main method not found");
		}
	}

	@Test
	void testValidInput() {
		//Testcase 1: n = 5 => result: 12
		try {
			String input = "X";
			ByteArrayInputStream in = new ByteArrayInputStream(input.getBytes());
			System.setIn(in);
			ByteArrayOutputStream out = new ByteArrayOutputStream();
			System.setOut(new PrintStream(out));
			String[] args = {};
			RomantoInteger.main(args);
			String consoleOutput = "12" + System.getProperty("line.separator");
			assertEquals(consoleOutput, out.toString());
		}catch(ClassNotFoundException e) {
			assertTrue(false,"Class not found");
		}catch (NoSuchMethodException e) {
			assertTrue(false, "Main method not found");
		}
	}
}
